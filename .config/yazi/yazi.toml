# yazi.toml
[manager]
show_hidden = true
linemode = "mtime"

[opener]
edit = [
	{ desc = "Edit in Neovim", run = 'tmux new-window -n "nvim" "nvim \"$@\""', block = false, orphan = true },
]
json = [
	{ desc = "Open JSON with fx", run = 'tmux new-window -n "fx" "fx \"$@\""', block = false, orphan = true },
]
csv = [
	{ desc = "Open csv with ov", run = 'tmux new-window -n "ov" "ov -H1 -C -d\",\" -c --column-rainbow \"$@\""', block = false, orphan = true },
]
psv = [
	{ desc = "Open psv with ov", run = 'tmux new-window -n "ov" "ov -H1 -C -d\"|\" -c --column-rainbow \"$@\""', block = false, orphan = true },
]
tsv = [
	{ desc = "Open tsv with ov", run = 'tmux new-window -n "ov" "ov -H1 -C -d\"/\t/\" -c --column-rainbow \"$@\""', block = false, orphan = true },
]
log = [
	{ desc = "Open log file with ov", run = 'tmux new-window -n "ov" "ov --multi-color \"\d*:?(error|ERROR|Error).*?\b,\d*:?warn(ing)*,\d*:?notice,\d*:?info,\d*:?debug,\d{4}-\d{2}-\d{2}( |T)?(\d{2}:\d{2})?(:\d{2}|\s?[AaPp][Mm])?([+-]\d{4}|\.\d{6})?\" \"$@\""', block = false, orphan = true },
]
zip = [
	{ desc = "Unzip", run = 'unzip "$@"', block = true, orphan = false },
]
clipboard = [
	{ desc = "Copy to system clipboard", run  = 'osascript -e "set the clipboard to POSIX file \"$0\""', block = false, orphan = true }
]

[open]
prepend_rules = [
	{ mime = "application/json", use = ["json", "edit", "clipboard", "reveal"] },
	{ name = "*.json", use = [ "json", "edit", "clipboard", "reveal" ] },
	{ mime = "text/csv", use = ["csv", "edit", "clipboard", "reveal"] },
	{ name = "*.csv", use = ["csv", "edit", "clipboard", "reveal"] },
	{ name = "*.psv", use = ["psv", "edit", "clipboard", "reveal"] },
	{ name = "*.tsv", use = ["tsv", "edit", "clipboard", "reveal"] },
	{ name = "*.zip", use = ["zip", "clipboard", "reveal"] },
	{ name = "*.log", use = ["log", "clipboard", "reveal"] },
	{ name = "*", use = ["open", "edit", "clipboard", "reveal", "mime"] },
]

[plugin]
prepend_previewers = [
  { name = "*.md", run = "glow" }, # ./plugins/glow.yazi/
]
